<html>
  <body>
    <h1>Movies</h1>
    <ul id="movies"></ul>
    <input id="name" type="text" />
    <button id="submit">Add movie</button>

    <script type="text/javascript">

      let submitButton = document.getElementById("submit");

      let renderMovies = function() {
        let moviesList = document.getElementById("movies");
        let movies = JSON.parse(localStorage.getItem("movies") || "[]");

        moviesList.textContent = "";

        movies.forEach(function(movie) {
          let listItem = document.createElement("li");

          listItem.textContent = movie.name
          moviesList.appendChild(listItem);
        });
      }

      let addMovie = function() {
        let input =  document.getElementById("name");
        let movies = JSON.parse(localStorage.getItem("movies") || "[]");
        let movie = { name: input.value };

        movies.push(movie);
        localStorage.setItem("movies", JSON.stringify(movies));
        renderMovies();
        input.value = "";
      };

      submitButton.addEventListener("click", addMovie);
      renderMovies();

    </script>
  </body>
</html>
